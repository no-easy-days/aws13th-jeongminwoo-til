# π” 2. λΉ„λ°€λ²νΈ λ³΄μ•κ³Ό ν•΄μ‹± (Password Security & Hashing)

---

## μ™ λΉ„λ°€λ²νΈλ¥Ό κ·Έλ€λ΅ μ €μ¥ν•λ©΄ μ• λλ”κ°€ 

### ν‰λ¬Έ(Plain Text)μ΄λ€?
- **μ•„λ¬΄ μ²λ¦¬λ„ ν•μ§€ μ•μ€ μ›λ³Έ κ·Έλ€λ΅μ κΈ€μ**

DBκ°€ ν•΄ν‚Ήλ‹Ήν•λ©΄ λ¨λ“  λΉ„λ°€λ²νΈκ°€ μ¦‰μ‹ λ…Έμ¶λ¨  
- λ°μ΄ν„°λ² μ΄μ¤κ°€ ν•΄ν‚Ήλλ©΄ μ €μ¥λ λ¨λ“  λΉ„λ°€λ²νΈλ¥Ό **ν• λ²μ— κ·Έλ€λ΅ λ³Ό μ μμ**   
ν‰λ¬ΈμΌλ΅ μ €μ¥λ λΉ„λ°€λ²νΈλ”  
-μ„λ²„ κ΄€λ¦¬μ  
-κ°λ°μ  
-DB μ ‘κ·Ό κ¶ν•μ΄ μλ” μ‚¬λ  
π‘‰ λ„κµ¬λ‚ ν™•μΈ κ°€λ¥

## λ‹¨λ°©ν–¥ ν•΄μ‹ (One-way Hash)
### μ •μ
λ‹¨λ°©ν–¥ ν•΄μ‹λ” μ…λ ¥κ°’μ„ **λλλ¦΄ μ μ—†λ” κ°’**μΌλ΅ λ³€ν™ν•λ” λ°©μ‹μ…λ‹λ‹¤.  
ν• λ² ν•΄μ‹λ κ°’μ€ **μ›λ λΉ„λ°€λ²νΈλ΅ λ³µκµ¬ν•  μ μ—†μµλ‹λ‹¤**.
### νΉμ§• 
- λ³µνΈν™” λ¶κ°€λ¥
- κ°™μ€ μ…λ ¥κ°’μ€ ν•­μƒ κ°™μ€ ν•΄μ‹κ°’ μƒμ„±
- λΉ„λ°€λ²νΈ μ €μ¥μ— μ‚¬μ©λλ‹¤. (μ„λ²„λ” λΉ„λ°€λ²νΈλ¥Ό μ• ν•„μ”κ°€ μ—†κ³  λ§λ”μ§€λ§ ν™•μΈν•λ©΄ λκΈ° λ•λ¬Έ)

## Salt 
### μ •μ
λΉ„λ°€λ²νΈμ— μ¶”κ°€λ΅ μ„λ” λλ¤ λ¬Έμμ—΄μ΄λ‹¤.   
ex) 1234 + X9@k! β†’ ν•΄μ‹κ°’
###νΉμ§• λ° μ—­ν•  
- κ°™μ€ λΉ„λ°€λ²νΈλΌλ„ ν•­μƒ λ‹¤λ¥Έ ν•΄μ‹κ°’ μƒμ„±
- ν•΄μ‹κ°’μ„ λ―Έλ¦¬ κ³„μ‚°ν• κ³µκ²©μ„ λ°©μ–΄
- Saltλ” λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥ν•΄λ„ λλ‹¤

## Rainbow Table Attack 
### μ •μ 
μμ£Ό μ‚¬μ©λλ” λΉ„λ°€λ²νΈλ“¤μ„ λ―Έλ¦¬ ν•΄μ‹ν•΄ λ‘” κ³µκ²© λ°©μ‹  
(ν•΄μ»¤λ” ν•΄μ‹κ°’μ„ μ΄ ν…μ΄λΈ”κ³Ό λΉ„κµν•μ—¬ λΉ„λ°€λ²νΈλ¥Ό λΉ λ¥΄κ² μ¶”μΈ΅ν•λ‹¤.)  

<λ€μ‘ λ°©λ²•>  
Saltλ¥Ό μ‚¬μ©ν•λ©΄ κ°™μ€ λΉ„λ°€λ²νΈλΌλ„ ν•΄μ‹κ°’μ΄ λ‹¬λΌμ Έ Rainbow Table Attackμ΄ λ¬΄λ ¥ν™”λ©λ‹λ‹¤.

## bcrypt
### μ •μ
λΉ„λ°€λ²νΈ μ €μ¥ μ „μ© ν•΄μ‹ μ•κ³ λ¦¬μ¦μ΄λ‹¤. (MD5, SHA256κ°™μ€ μ•κ³ λ¦¬μ¦λ„ μλ‹¤.)
### νΉμ§• 
- saltλ¥Ό μλ™μΌλ΅ ν¬ν•¨ν•κ³  μλ‹¤.
- λ€λ‰ κ³µκ²©μ— κ°•ν•λ‹¤. (bcryptλ” λλ¦¬κΈ° λ•λ¬Έμ— ν•΄μ»¤κ°€ λ€λ‰μ λΉ„λ°€λ²νΈλ¥Ό λΉ λ¥΄κ² μ‹λ„ν•  μ μ—†λ‹¤.)


<ν•΄μ‰¬κ°€ λΉ„λ°€λ²νΈμ— λ” μ ν•©ν• μ΄μ >  

β MD5 / SHA256μ λ¬Έμ μ 
κ³„μ‚°μ†λ„κ°€ λ„λ¬΄ λΉ λ¦„  

β… bcryptμ ν•µμ‹¬μΈ <λλ¦° ν•΄μ‹>λ•λ¬Έμ— λΉ„λ°€λ²νΈμ— bcryptκ°€ λ” μ ν•©ν•λ‹¤  
μΌλ¶€λ΅ κ³„μ‚°μ„ λλ¦¬κ² μ„¤κ³„ν•μ—¬ λΉ„λ°€λ²νΈ ν•λ‚ ν•΄μ‹ν•λ” λ° μ‹κ°„ μ†μ”κ°€ ν¬λ‹¤.  

### κ²°λ΅ 
SHA256μ€ β€λΉ λ¥Έ κ³„μ‚°β€μ΄ μ¥μ μ΄μ§€λ§ λΉ„λ°€λ²νΈ μ €μ¥μ—μ„λ” κ·Έκ² κ³µκ²©μμ—κ² μ λ¦¬ν•΄μ§„λ‹¤.  
bcryptλ” β€λλ¦° κ³„μ‚°β€μΌλ΅ κ³µκ²©μμ μ‹λ„λ¥Ό μ–µμ ν•λ―€λ΅ λΉ„λ°€λ²νΈ μ €μ¥μ— μ ν•©ν•λ‹¤.
## passlib
### μ •μ 
Pythonμ—μ„ λΉ„λ°€λ²νΈ ν•΄μ‹±μ„ μ•μ „ν•κ³  μ‰½κ² μ‚¬μ©ν•  μ μλ„λ΅ λ„μ™€μ£Όλ” λΌμ΄λΈλ¬λ¦¬
### μ—­ν•  
- λΉ„λ°€λ²νΈ ν•΄μ‹±
- λΉ„λ°€λ²νΈ κ²€μ¦  
<μ‚¬μ© μ΄μ > - λΉ„λ°€λ²νΈ λ³΄μ•μ€ μ§μ ‘ κµ¬ν„ν•λ©΄ μ„ν—ν•λ―€λ΅ κ²€μ¦λ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ•μ „ν•λ‹¤.

## ν•΄μ‹ vs μ•”νΈν™” 
### μ•”νΈν™” 
λλλ¦΄ μ μλ” λ³€ν™ (μ•”νΈν™”λ κ°’μ€ λ³µνΈν™”λ¥Ό ν†µν•΄ μ›λ κ°’μΌλ΅ λ³µκµ¬ κ°€λ¥)  

λΉ„λ°€λ²νΈ β†’ μ•”νΈν™” β†’ μ•”νΈλ¬Έ  
μ•”νΈλ¬Έ β†’ λ³µνΈν™” β†’ λΉ„λ°€λ²νΈ   
π‘‰ μ›λ κ°’μ„ λ‹¤μ‹ μ•μ•„μ•Ό ν•  λ• μ‚¬μ©  

λ¬Έμ : λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”λ΅ μ €μ¥ν•λ©΄  
μ„λ²„ μ–΄λ”κ°€μ— λ³µνΈν™” ν‚¤κ°€ μμ–΄μ•Ό ν•κ³  ν‚¤κ°€ μ μ¶λλ©΄ λΉ„λ°€λ²νΈ μ›λ¬Έμ΄ ν†µμ§Έλ΅ λ³µμ›λ©λ‹λ‹¤.  
### ν•΄μ‹ 
λλλ¦΄ μ μ—†λ” λ³€ν™(λ‹¨λ°©ν–¥, λ³µνΈν™”λΌλ” κ°λ… μμ²΄κ°€ μ—†λ‹¤)  
- μ›λ λΉ„λ°€λ²νΈ λ³µκµ¬ λ¶κ°€λ¥
- μ„λ²„λ” λΉ„λ°€λ²νΈλ¥Ό κ²€μ¦λ§ ν•λ‹¤

### λ”°λΌμ„ λΉ„λ°€λ²νΈμ— ν•΄μ‹λ¥Ό μ“°λ” μ΄μ : λΉ„λ°€λ²νΈλ” λ‹¤μ‹ μ•μ•„λ‚Ό ν•„μ”κ°€ μ—†κ³  λ§λ”μ§€λ§ ν™•μΈν•λ©΄ λκΈ° λ•λ¬Έ

## FastAPIμ—μ„ passlibμΌλ΅ λΉ„λ°€λ²νΈλ¥Ό μ•μ „ν•κ² μ €μ¥ν•κ³  κ²€μ¦ν•λ” λ°©λ²•
1.λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ  
```python
pip install passlib[bcrypt]
```
2.λΉ„λ°€λ²νΈ ν•΄μ‹± (νμ›κ°€μ… μ‹)  
κ°™μ€ λΉ„λ°€λ²νΈλΌλ„ μ‹¤ν–‰ν•  λ•λ§λ‹¤ λ‹¤λ¥Έ ν•΄μ‹κ°’ μƒμ„±   

3.λΉ„λ°€λ²νΈ κ²€μ¦ (λ΅κ·ΈμΈ μ‹)  
-μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό λ‹¤μ‹ ν•΄μ‹ν•΄μ„ DBμ— μ €μ¥λ ν•΄μ‹μ™€ λΉ„κµ 



